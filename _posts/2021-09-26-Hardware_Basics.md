# 硬件基础知识

[toc]

这里推荐一个网站：

[面包板官方社区](https://mbb.eet-china.com/tech/hot)：<https://mbb.eet-china.com/tech/hot>

[电子发烧友](http://www.elecfans.com/tech-155.html)：<http://www.elecfans.com/tech-155.html>

## 片上系统Soc

System on a Chip，以CPU为核心，实现负责存储程序和数据的内存（ROM/RAM），负责外部进行输入输出的I/O和相关的外设，以及他们之间的连接总线。Soc是将一整套系统集成到单一芯片的集成电路设计方法。

## 半导体

参考：

[7价 半导体掺杂_半导体与二极管](https://blog.csdn.net/weixin_29210727/article/details/112262461)

> 导体

[百度百科——导体](https://baike.baidu.com/item/%E5%AF%BC%E4%BD%93/1017277?fr=aladdin)

+ 价带和核心

价带轨道决定着原子的电特性

+ 自由电子

原子核心与价电子之间的吸引力很小，外力非常容易使这个电子脱离铜原子，这就是价电子经常称为自由电子的原子的原因，也是铜成为良导体的原因，外加微小的电压，自由电子就在电场的作用下形成定向移动，也就是形成电流。最好的导体是铜、银、金。



最好的导体都有一个价电子，最好的绝缘体都有8个价电子。最好的半导体都有4个价电子。

> 半导体

锗半导体：

早期半导体元器件使用的唯一原材料，但是锗半导体存着致命的缺陷，反向电流过大，后来硅半导体的实用化，大部分器件开始使用硅制造，锗应用得就很少了

硅半导体：

硅是地球上除氧外含量最丰富的元素，早期硅的提纯技术制约了硅的应用，提纯技术突破后，硅成为半导体的首要材料

> 硅晶体

**共价键**

**价带饱和**——每个硅原子价带轨道中都有8个电子，8个电子的稳定结构使硅形成稳定的固体

**空穴**——在一定的温度下，硅晶体形成一个自由电子的同时会产生一个空穴，即空穴和电子成对出现

**复合与寿命**——纯净的硅中，电子和空穴会结合，导致电子和空穴的消失，称为复合，一定条件下，产生的电子和空穴与复合的速度是平衡的，也就是电子和空穴的浓度保持一个稳定的水平

> 本征半导体

指纯净半导体，如果晶体中每个原子都是硅原子就称为硅本征半导体

比如：

晶圆~

+ **自由电子的流动**

+ **空穴的流动**：

  空穴被A复合，A点形成新的空穴，A空穴又可以捕获新的电子，形成新的空穴，这样空穴就以ABCDEF的顺序移动，如同一个正电荷在运动。

> 半导体掺杂

提高半导体导电能能力的办法就是掺杂，提高电子或者空穴的浓度

1.增加电子(N型半导体)：带负电荷

将硅融化，破坏掉共价键，然后加入5价电子，如砷、锑、磷等，形成更多的电子

2.增加空穴(P型半导体)：带正电荷

将硅融化，破坏掉共价键，然后加入3价电子，如铝、硼、钾等，形成更多的空穴

3.PN结的形成

由于P型区和N型区两边的载流子性质及浓度均不相同，P型区的空穴浓度大，而N型区的电子浓度大，于是在交界面处产生了<font color=FF000>扩散运动</font>

载流子的流动，浓度降低，P区和N区的交界处产生内电场

在内电场的作用下，会产生一个运动去阻止扩散运动，这个运动称为**漂移运动**。漂移运动与扩散运动是相反的，电子将从P区向N区作<font color=FF0000>漂移运动</font>，空穴则从N区向P区作漂移运动

经过一段时间后，扩散运动与漂移运动达到一种相对平衡状态，在交界处形成了一定厚度的空间电荷区叫做`PN结`，也叫`阻挡层`，`势垒`

### PN结

参考：

[PN结的形成及PN结工作原理（单向导电）](https://www.dgxue.com/chuji/dzjc/pnj/948.html)

如果把一块本征半导体的两边掺入不同的元素，使一边为P型，另一边为N型，则在两部分的接触面就会形成一个特殊的薄层，称为PN结。PN结是构成二极管、三极管及可控硅等许多半导体器件的基础。

+ PN结具有单向导电性

  PN结通过正向电压时可以导电，常称为导通；而加反向电压时不导电，常称为截止。这说明：**PN结具有单向导电性**。

### 二极管

参考：

[百度百科——二极管](https://baike.baidu.com/item/%E4%BA%8C%E6%9E%81%E7%AE%A1/102466?fr=aladdin)

[电子发烧友——二极管](http://www.elecfans.com/tags/%E4%BA%8C%E6%9E%81%E7%AE%A1/)

二极管，（英语：Diode），电子元件当中，一种具有两个电极的装置，只允许电流由单一方向流过，许多的使用是应用其整流的功能。而变容二极管（Varicap  Diode）则用来当作电子式的<font color=0000FF>可调电容器</font>。大部分二极管所具备的电流方向性我们通常称之为`“整流（Rectifying）”功能`。二极管最普遍的功能就是只允许电流由单一方向通过（称为顺向偏压），反向时阻断 （称为逆向偏压）。因此，二极管可以想成电子版的<font color=0000FF>逆止阀</font>。

早期的真空电子二极管，它是一种能够单向传导电流的电子器件。在半导体二极管内部有一个PN结两个引线端子，这种电子器件按照外加电压的方向，具备单向电流的传导性。一般来讲，晶体二极管是一个由p型半导体和n型半导体烧结形成的p-n结界面。在其界面的两侧形成空间电荷层，构成自建电场。当外加电压等于零时，由于p-n 结两边载流子的浓度差引起扩散电流和由自建电场引起的漂移电流相等而处于电平衡状态，这也是常态下的二极管特性。

+ 二极管的伏安特性

  外加正向电压时，在正向特性的起始部分，正向电压很小，不足以克服 PN 结内电场的阻挡作用，正向电流几乎为零，这一段称为**死区**。这个不能使二极管导通的正向电压称为**死区电压或门坎电压**。

  当正向电压大于死区电压以后，PN 结内电场被克服，二极管正向导通，电流随电压增大而迅速上升。

  在正常使用的电流范围内，导通时二极管的端电压几乎维持不变，这个电压称为二极管的**正向电压**。

![2021-09-26-Hardware1](https://gitee.com/jie_xue_du/learn_images_ben/raw/master/%20img/2021-09-26-Hardware1.jpg)

在电路中，若将二极管的正极接在低电位端，负极接在高电位端，则二极管呈现很大电阻，二极管中几乎没有电流流过，二极管处于**截止状态**。

①反向截止区：二极管加反向电压时，仍然会有反向电流流过二极管，称为漏电流。小功率管的漏电流很小，在微安范围内，而且在很大范围内，基本不随反向电压的变化而变化，称为**反向截止区**。

②反向击穿区：当加到二极管两端的反向电压超过某一规定数值时，反向电流突然急剧增大，这种现象称为**反向击穿现象**。

实际应用时，普通二极管应避免工作在击穿范围，否则会因电流过大而损坏管子失去单向导电性。

### 三极管

参考：

[三极管,三极管是什么意思](http://www.elecfans.com/baike/bandaoti/bandaotiqijian/20100306180364.html)

[百度百科——三极管](https://baike.baidu.com/item/%E4%B8%89%E6%9E%81%E7%AE%A1/148491?fr=aladdin)

半导体三极管也称为晶体三极管，是半导体基本元器件之一，具有电流放大作用，是电子电路的核心元件。三极管顾名思义具有三个电极。二极管是由一个PN结构成的，而三极管由两个PN结构成。

三极管是在一块半导体基片上制作两个相距很近的PN结，两个PN结把正块半导体分成三部分，中间共用的一个电极的部分是基区，两侧部分是发射区和集电区，排列方式有PNP和NPN两种。

它最主要的功能是**电流放大和开关作用**。

+ 基极(b)、集电极(c)、发射极(e)
+ **三种工作状态**：截止状态、放大状态、饱和导通状态

### MOS管——金属氧化物半导体型场效应管

参考：

[了解MOS管，看这个就够了！](http://www.cntronics.com/special/271)

[MOS管工作原理图详解-MOS管工作原理电路图及结构分析-KIA MOS管](http://www.kiaic.com/article/detail/927.html)

[MOS管三个极分别是什么及判定方法](https://mbb.eet-china.com/tech/t4/48427.html)

[场效应管](http://m.elecfans.com/article/530657.html)主要有两种类型，分别是结型场效应管（JFET）和绝缘栅场效应管（MOS管）。

![2021-09-26-Hardware2](https://gitee.com/jie_xue_du/learn_images_ben/raw/master/%20img/2021-09-26-Hardware2.jpg)

硅IC可以分为MOS型和双极结型晶体管。

MOS管，英文全称叫MOSFET(Metal Oxide Semiconductor Field Effect  Transistor)，即金属氧化物半导体型场效应管，属于场效应管中的绝缘栅型。因此，MOS管有时被称为绝缘栅场效应管。在一般电子电路中，MOS管通常被用于<font color=FF0000>放大电路或开关电路</font>。

+ MOS管类型

  nMOS——以电子（负：negative）为载流子，一般用于<u>管理某电路是否接地</u>，属于无触点开关，栅极高电平就导通导致接地，低电平截止。当然栅极也可以用负电压截止，但这个好处没什么意义。其高电平可以高过被控制部分的电源，因为栅极是隔离的。因此可以用5v信号控制3v系统的某处是否接地，这个原理也用于电平转换。

  pMOS——以空穴（正：positive）为载流子，一般用于<u>管理电源的通断</u>，属于无触点开关，栅极低电平就完全导通，高电平就完全截止。而且，栅极可以加高过电源的电压，意味着可以用5v信号管理3v电源的开关，这个原理也用于电平转换。

  CMOS——以双方组合（complementary）而成的“互补金属氧化物半导体晶体管

+ 源级(S)、栅极(G)、漏极(D)、主体(衬底B)端子的四端子设备

现在的高清、液晶、等离子电视机中开关电源部分除了采用了PFC技术外，在元器件上的开关管均采用性能优异的MOS管取代过去的大功率晶体三极管，使整机的效率、可靠性、故障率均大幅的下降。

+ FET通过向栅极施加电压来控制电流，从而改变漏极和源极之间的电导率。由于它仅靠半导体中的多数载流子导电，又称单极型晶体管
+ FET在其操作中使用电子或空穴作为电荷载流子，但不能同时使用两者
+ 绝缘型场效应管的栅极与源极、栅极和漏极之间均采用SiO2绝缘层隔离，因此而得名。又因栅极为金属铝，故又称为MOS管
+ MOS管工作原理有N沟道和P沟道两类，但每一类又分为增强型和耗尽型两种，因此MOS管的四种类型为：N沟道增强型管、N沟道耗尽型管、P沟道增强型管、P沟道耗尽型管

## 电路基础

### 基本逻辑门电路

> 与门

又称“与电路”、逻辑“积”、逻辑“与”电路。是执行“与”运算的基本逻辑门电路。有多个输入端，一个输出端。当所有的输入同时为高电平（逻辑1）时，输出才为高电平，否则输出为低电平（逻辑0）。

![2021-09-26-Hardware3](https://gitee.com/jie_xue_du/learn_images_ben/raw/master/%20img/2021-09-26-Hardware3.jpg)

![2021-09-26-Hardware4](https://gitee.com/jie_xue_du/learn_images_ben/raw/master/%20img/2021-09-26-Hardware4.jpg)

![2021-09-26-Hardware5](https://gitee.com/jie_xue_du/learn_images_ben/raw/master/%20img/2021-09-26-Hardware5.jpg)

> 或门

![2021-09-26-Hardware15](https://gitee.com/jie_xue_du/learn_images_ben/raw/master/%20img/2021-09-26-Hardware15.jpg)

![2021-09-26-Hardware16](https://gitee.com/jie_xue_du/learn_images_ben/raw/master/%20img/2021-09-26-Hardware16.jpg)

![2021-09-26-Hardware17](https://gitee.com/jie_xue_du/learn_images_ben/raw/master/%20img/2021-09-26-Hardware17.jpg)







> 非门

非门(反向器)是最简单的门电路，由一对CMOS管组成。

工作原理：A端为高电平时，P型管截止，N型管导通，输出端C的电平与Vss保持一致，输出低电平;A端为低电平时，P型管导通，N型管截止，输出端C的电平与VDD一致，输出高电平

![2021-09-26-Hardware6](https://gitee.com/jie_xue_du/learn_images_ben/raw/master/%20img/2021-09-26-Hardware6.jpg)

![2021-09-26-Hardware7](https://gitee.com/jie_xue_du/learn_images_ben/raw/master/%20img/2021-09-26-Hardware7.jpg)

![2021-09-26-Hardware8](https://gitee.com/jie_xue_du/learn_images_ben/raw/master/%20img/2021-09-26-Hardware8.jpg)

> 与非门

工作原理：

①A、B输入均为低电平时，1、2管导通，3、4管截止，C端电压与VDD一致，输出高电平。

②A输入高电平，B输入低电平时，1、3管导通，2、4管截止，C端电位与1管的漏极保持一致，输出高电平。

③A输入低电平，B输入高电平时，情况与②类似，亦输出高电平。

④A、B输入均为高电平时，1、2管截止，3、4管导通，C端电压与地一致，输出低电平。

![2021-09-26-Hardware9](https://gitee.com/jie_xue_du/learn_images_ben/raw/master/%20img/2021-09-26-Hardware9.jpg)



> 或非门

或非门工作原理：

①A、B输入均为低电平时，1、2管导通，3、4管截止，C端电压与VDD一致，输出高电平。

②A输入高电平，B输入低电平时，1、4管导通，2、3管截止，C端输出低电平。

③A输入低电平，B输入高电平时，情况与②类似，亦输出低电平。

④A、B输入均为高电平时，1、2管截止，3、4管导通，C端电压与地一致，输出低电平。

![2021-09-26-Hardware10](https://gitee.com/jie_xue_du/learn_images_ben/raw/master/%20img/2021-09-26-Hardware10.jpg)

> 同或



> 异或



### 三态门

参考：

[三态门有哪三态_三态门有什么特点](http://www.elecfans.com/dianzichangshi/20180301641627.html)

[三态门介绍](https://blog.csdn.net/weiaipan1314/article/details/104296199)

+ 高电平、低电平、高阻态

三态门有三种输出状态：输出高电平、输出低电平和高阻状态，前两种状态为工作状态，后一种状态为禁止状态。值得注意的是，三态门不是具有三种逻辑值。在工作状态下，三态门的输出可为逻辑‘0’或者逻辑‘1’；在禁止状态下，其输出呈现高阻态，相当于开路。

三态门有一个EN控制使能端，来控制门电路的通断。 可以具备这三种状态的器件就叫做三态器件。

+ 当EN有效时，三态电路呈现正常的“0”或“1”的输出；
+ 当EN无效时，三态电路给出高阻态输出。

工作原理：

当控制端C为“1”时，N型管3导通，同时，C端电平通过反向器后成为低电平，使P型管4导通，输入端A的电平状况可以通过3、4管到达输出端B。

当控制端C为“0”时，3、4管都截止，输入端A的电平状况无法到达输出端B，输出端B呈现高电阻的状态，称为“高阻态”。这个器件也称作“带控制端的传输门”。带有一定驱动能力的三态门也称作“缓冲器”，逻辑符号是一样的。

![2021-09-26-Hardware11](https://gitee.com/jie_xue_du/learn_images_ben/raw/master/%20img/2021-09-26-Hardware11.jpg)

### 组合逻辑电路

> 编码器



> 译码器



> 数据选择器



> 加法器



> 数值比较器



> 奇偶校验电路



> 算术运算电路



> 各种码转换电路



### 时序逻辑电路

> 锁存器

参考：

[锁存器](https://blog.csdn.net/weixin_37753976/article/details/98466268)

[锁存器与寄存器的区别](https://blog.csdn.net/HengZo/article/details/53164626?utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-12.no_search_link&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-12.no_search_link)

+ SR 锁存器

初始状态下，S和R都为0，Q和Q'随机有一个为1另一个 为0（取决于电流速度）。当把S弄成1后，Q为1，此后无论S怎么变化Q都为1。对R也是如此。

一句话总结就是：输出端可以**记住**S和R最后一次为1的是哪个。这个记住就是存了。

![2021-09-26-Hardware12](https://gitee.com/jie_xue_du/learn_images_ben/raw/master/%20img/2021-09-26-Hardware12.jpg)



+ D 锁存器

此为对SR锁存器的优化，D相当于原来的S和R，这不但方便操作，还屏蔽了S和R均为1这种不规范操作。

EN是enable的意思，可以控制锁存器是否存D，否则为忽略D数据（不存） 

![2021-09-26-Hardware13](https://gitee.com/jie_xue_du/learn_images_ben/raw/master/%20img/2021-09-26-Hardware13.jpg)

> 触发器

+ D 触发器

将D锁存器的EN端改为时钟即为D触发器，功能简单说就是：在时钟**上升沿**锁存数据

![2021-09-26-Hardware14](https://gitee.com/jie_xue_du/learn_images_ben/raw/master/%20img/2021-09-26-Hardware14.jpg)

+ JK 触发器 
+ T 触发器
+ SR 触发器



> 寄存器



> 移位寄存器



> 计数器

**计数器的分类：**

1.按计数器中触发器翻转是否同时进行分为同步计数器和异步计数器

2.按数字的增减趋势可分为加法计数器、减法计数器和可逆计数器

3.按计数器中数字的编码方式分为二进制计数器、二—十进制计数器、循环码计数器等。

4.按计数器的容量分类，如十进制计数器、六十进制计数器**

> 状态机



## 计算机系统

### 计算机系统概论

> 什么是计算机

根据程序进行计算和数据处理的计算机器

基本组成：五大器件——运算器、控制器、存储器、输入设备、输出设备(I/O)



运算器：实现算术运算和逻辑运算的部件。 【<font color=FF0000>运算器本质上是加法器，在加法的基础上拓展出减法、乘法、除法</font>】

控制器：计算机的指挥系统。控制器通过地址访问存储器，从存储器中取出指令，经译码器分析后，根据指令分析结果产生相应的操作控制信号作用于其他部件，使得各部件在控制器控制下有条不紊地协调工作。

存储器：是计算机中用来存放所有数据和程序的记忆部件，它的基本功能是按指定的地址存（写）入或者取（读）出信息。  计算机中的存储器可分成两大类：一类是内存储器，简称内存或主存；另一类是外存储器（辅助存储器），简称外存或辅存。  存储器由若干个存储单元组成，每个存储单元都有一个地址，计算机通过地址对存储单元进行读写。

输入设备：是向计算机中输入信息（程序、数据、声音、文字、图形、图像等）的设备。常见的输入设备有：键盘、鼠标、图形扫描仪、触摸屏、条形码输入器、光笔等。 外存储器也是一种输入设备。 

输出设备：主要有显示器、打印机和绘图仪等。外存储器也当作一种输出设备。

> 什么是CPU

参考：[百度百科——CPU](https://baike.baidu.com/item/%E4%B8%AD%E5%A4%AE%E5%A4%84%E7%90%86%E5%99%A8/284033?fromtitle=CPU&fromid=120556&fr=aladdin#4)

计算机的中央处理器又称为CPU，它是计算机的核心部分。主要由运算器和控制器组成



取指——译码——执行——访存——回写

+ 性能衡量指标：影响其性能的指标主要有[主频](https://baike.baidu.com/item/主频/103191)、 CPU的位数、CPU的缓存指令集、CPU核心数和IPC（每周期指令数）。
+ 主频，指的就是时钟频率，它直接的决定了CPU的性能，可以通过[超频](https://baike.baidu.com/item/超频/100072)来提高CPU主频来获得更高性能
+ CPU的位数，指的就是处理器能够一次性计算的[浮点数](https://baike.baidu.com/item/浮点数/6162520)的位数，通常情况下，CPU的位数越高，CPU 进行运算时候的速度就会变得越快
+ CPU的缓存指令集，是存储在CPU内部的，主要指的是能够对CPU的运算进行指导以及优化的硬程序。一般来讲，CPU 的缓存可以分为一级缓存、二级缓存和三级缓存，缓存性能直接影响CPU处理性能。部分特殊职能的CPU可能会配备四级缓存

> 什么是内存

存放运行时指令(程序)和数据的存储器

计算机的内存又可以分为[随机存取存储器](https://baike.baidu.com/item/随机存取存储器/4099402)（[RAM](https://baike.baidu.com/item/RAM/144481)）和只读储存器([ROM](https://baike.baidu.com/item/ROM/12424911))。两者的区别在于，随机存取存储器能够与CPU直接的进行数据的交换，也可以将其称为主存。

+ 对于RAM可以随时的进行读写，而且这个过程的速度很快，因此由于主存所具有的这个优点也往往将其作为操作系统或其他正在运行中的程序的临时数据存储媒介；
+ 只读存储器ROM是一种只能读出事先所存数据的存储器，使用者对于其内部存储的资料没有改变的权限也无法对其进行删除，并且在电源关闭以后资料并不会消失。这种内存也得到了广泛的应用，在那些资料不需要经常变更的电子或电脑系统中得到了很好地应用。



- 多级存储

寄存器：D触发器控制，位于CPU，速度最快

> 什么是I/O

+ 统一编址

> 什么是总线

参考：

[解释一下什么叫计算机【总线】？](https://www.zhihu.com/question/29723949)

[百度百科——总线](https://baike.baidu.com/item/%E6%80%BB%E7%BA%BF)

总线是一种内部结构，它是cpu、内存、输入、输出设备传递信息的公用通道，主机的各个部件通过主机相连接，外部设备通过相应的接口电路在于总线相连接，从而形成了计算机硬件系统。

在计算机系统中，各个部件之间传送信息的公共通路叫总线，微型计算机是以总线结构来连接各个功能部件的。

+ 划分为[数据总线](https://baike.baidu.com/item/数据总线/272650)、[地址总线](https://baike.baidu.com/item/地址总线/4307936)和[控制总线](https://baike.baidu.com/item/控制总线/272568)，分别用来传输数据、数据地址和[控制信号](https://baike.baidu.com/item/控制信号/10329713)。

### 程序执行的基本原理



### 指令格式及操作数



### 指令集与汇编程序

参考：

[精简指令集和复杂指令集区别](http://www.elecfans.com/d/1268573.html)

[精简指令集的特点](http://www.elecfans.com/d/1268583.html)



精简指令集 RISC

+ MIPS

+ LoongArch

  [如何看待龙芯对外公开的 LoongArch 指令集？](https://www.zhihu.com/question/414069789)

  [龙芯详解LoongArch指令集：通吃MIPS/ARM/x86](https://news.mydrivers.com/1/752/752124.htm)

+ //ARM

复杂指令集 CISC

+ x86
+ 8086
+ 80386
+ //AMD/Windows/DOS

***

+ 逻辑操作指令

+ 移位操作指令

+ 移动操作指令

  HI/LO寄存器

+ 算术操作指令

  乘累加、乘累减

+ 转移指令：跳转指令、分支指令

  延迟槽

+ 加载存储指令：加载指令、存储指令

  load相关问题

+ 协处理器访问指令：mtc0、mfc0

+ 异常相关指令

  协处理器CP0、控制模块CTRL

+ 空指令：nop、ssnop、sync、pref

+ Cache指令

+ TLB指令

[mips中 addiu中的u不强调无符号加法，而是不检查溢出](https://www.cnblogs.com/mcdeggy/p/7513650.html)

***



### MIPS指令编码



### 汇编与反汇编

寄存器表示：

$\$1$

$\$t_1$

[mips32个通用寄存器](https://www.cnblogs.com/dongzhiquan/archive/2012/08/16/2643286.html)



